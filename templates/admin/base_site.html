{% extends 'admin/base_site.html' %}

{% load static %}

{% block extrahead %}
    <link rel="shortcut icon" href="{% static 'images/favicon.png' %}?version=1.0.1" />
    <script>
      (function () {
        const theme = localStorage.getItem("theme") || "auto";
        const prefersDark = window.matchMedia("(prefers-color-scheme: dark)").matches;
        const finalTheme = theme === "auto" ? (prefersDark ? "dark" : "light") : theme;
        document.documentElement.setAttribute("data-theme", finalTheme);
      })();
    </script>
{% endblock %}

{% block extrastyle %}
  {{ block.super }}
  <link rel="stylesheet" type="text/css" href="{% static 'css/base_site_override.css' %}?version=1.2.7"/>
{% endblock %}

{% block title %}Saeed Pay{% endblock %}

{% block branding %}
  <div style="display: flex;">
    <h1 id="site-name"><a href="/saeedpay/admin/">Saeed Pay </a></h1>
  </div>
{% endblock %}

{% block usertools %}
  <div id="user-tools" style="color:#ffffff;">
    <strong>Welcome, {{ request.user.username }}.</strong>
    <a href="/saeedpay/cas-auth/logout/" style="color:#ffffff;">Log Out</a>
    <button class="theme-toggle">
      <div class="visually-hidden theme-label-when-auto">Toggle theme (current theme: auto)</div>
      <div class="visually-hidden theme-label-when-light">Toggle theme (current theme: light)</div>
      <div class="visually-hidden theme-label-when-dark">Toggle theme (current theme: dark)</div>
      <svg aria-hidden="true" class="theme-icon-when-auto">
        <use xlink:href="#icon-auto"></use>
      </svg>
      <svg aria-hidden="true" class="theme-icon-when-dark">
        <use xlink:href="#icon-moon"></use>
      </svg>
      <svg aria-hidden="true" class="theme-icon-when-light">
        <use xlink:href="#icon-sun"></use>
      </svg>
    </button>
  </div>
{% endblock %}
